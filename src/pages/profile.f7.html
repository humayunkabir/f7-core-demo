<template>
  <div class="page" data-name="profile">
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back"></i>
            <span class="if-not-md">Back</span>
          </a>
        </div>
        <div class="title">Profile</div>
      </div>
    </div>

    <div class="toolbar tabbar tabbar-labels toolbar-bottom">
      <div class="toolbar-inner">
        <a href="#tab-profile-basic" class="tab-link tab-link-active">
          <i class="icon icon-fill f7-icons if-not-md">person_crop_rectangle</i>
          <i class="icon material-icons md-only">person</i>
          <span class="tabbar-label">Basic</span></a
        >
        <a href="#tab-profile-address" class="tab-link">
          <i class="icon icon-fill f7-icons if-not-md">map</i>
          <i class="icon material-icons md-only">map</i>
          <span class="tabbar-label">Address</span>
        </a>
        <a href="#tab-profile-employment" class="tab-link">
          <i class="icon icon-fill f7-icons if-not-md">briefcase</i>
          <i class="icon material-icons md-only">work</i>
          <span class="tabbar-label">Employment</span>
        </a>
      </div>
    </div>

    <div class="tabs-swipeable-wrap">
      <div class="tabs">
        <div id="tab-profile-basic" class="page-content tab tab-active">
          <div class="profile-banner">
            <div class="profile-img">
              <img src="static/img/pp.jpg" alt="profile" />
            </div>
            <h2 class="profile-title">
              {{title}} {{firstName}} {{lastName}}
            </h2>
            <p class="profile-headline">{{position}} | {{company}}</p>

            <div class="button-3d-group profile-social-button-group">
              <div class="button-3d-wrapper">
                <a href="tel:{{phone}}" class="button-3d">
                  <i class="icon icon-fill f7-icons if-not-md"
                    >phone_circle_fill</i
                  >
                  <i class="icon material-icons md-only">phone</i>
                </a>
              </div>
              <div class="button-3d-wrapper">
                <a href="email:{{email}}" class="button-3d">
                  <i class="icon icon-fill f7-icons if-not-md">envelope_fill</i>
                  <i class="icon material-icons md-only">email</i>
                </a>
              </div>
            </div>
          </div>

          <div id="profile-progressbar"></div>
          <div class="block-title text-align-center margin-top-half">
            Profile Completed
          </div>
        </div>
        <div id="tab-profile-address" class="page-content tab">
          <div class="block block-strong inset">
            <h3>Address</h3>
          </div>
        </div>
        <div id="tab-profile-employment" class="page-content tab">
          <div class="block block-strong inset">
            <h3>Employment details</h3>
            <!-- <div class="list accordion-list">
              <div class="accordion-item accordion-item-opened">
                <div class="accordion-item-toggle">
                  <h3>Employment details</h3>
                </div>
                <div class="accordion-item-content">
                  Type: {{type}}
                </div>
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
  import ProgressBar from "progressbar.js";

  export default {
    data: function () {
      return {
        title: "Mr",
        firstName: "Humayun",
        lastName: "Kabir",
        dateOfBirth: new Date().toISOString,
        email: "example@email.com",
        phone: "+88342342343235",
        workType: "Full time",
        company: "Google",
        position: "Software Engineer",
        workPhone: "+88011332534534",
        income: "$3428",
        duration: "May, 2015 to April, 2019",
      };
    },
    mounted() {
      const bar = new ProgressBar.Circle("#profile-progressbar", {
        color: "#111",
        // This has to be the same size as the maximum width to
        // prevent clipping
        strokeWidth: 4,
        trailWidth: 1,
        easing: "easeInOut",
        duration: 1500,
        text: {
          autoStyleContainer: false,
        },
        from: { color: "#48c7f7", width: 1 },
        to: { color: "#48c7f7", width: 4 },
        // Set default step function for all animate calls
        step: function (state, circle) {
          circle.path.setAttribute("stroke", state.color);
          circle.path.setAttribute("stroke-width", state.width);
          var value = Math.round(circle.value() * 100);
          if (value === 0) {
            circle.setText("");
          } else {
            circle.setText(`
              <span class="progressbar-circle-value">${value}%</span>
            `);
          }
        },
      });
      bar.animate(0.87); // Number from 0.0 to 1.0
    },
  };
</script>
